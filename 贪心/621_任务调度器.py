# Áªô‰Ω†‰∏Ä‰∏™Áî®Â≠óÁ¨¶Êï∞ÁªÑ tasks Ë°®Á§∫ÁöÑ CPU ÈúÄË¶ÅÊâßË°åÁöÑ‰ªªÂä°ÂàóË°®„ÄÇÂÖ∂‰∏≠ÊØè‰∏™Â≠óÊØçË°®Á§∫‰∏ÄÁßç‰∏çÂêåÁßçÁ±ªÁöÑ‰ªªÂä°„ÄÇ‰ªªÂä°ÂèØ‰ª•‰ª•‰ªªÊÑèÈ°∫Â∫èÊâßË°åÔºåÂπ∂‰∏îÊØè‰∏™‰ªªÂä°ÈÉΩÂèØ‰ª•Âú® 1 ‰∏™
# Âçï‰ΩçÊó∂Èó¥ÂÜÖÊâßË°åÂÆå„ÄÇÂú®‰ªª‰Ωï‰∏Ä‰∏™Âçï‰ΩçÊó∂Èó¥ÔºåCPU ÂèØ‰ª•ÂÆåÊàê‰∏Ä‰∏™‰ªªÂä°ÔºåÊàñËÄÖÂ§Ñ‰∫éÂæÖÂëΩÁä∂ÊÄÅ„ÄÇ
#
#  ÁÑ∂ËÄåÔºå‰∏§‰∏™ Áõ∏ÂêåÁßçÁ±ª ÁöÑ‰ªªÂä°‰πãÈó¥ÂøÖÈ°ªÊúâÈïøÂ∫¶‰∏∫Êï¥Êï∞ n ÁöÑÂÜ∑Âç¥Êó∂Èó¥ÔºåÂõ†Ê≠§Ëá≥Â∞ëÊúâËøûÁª≠ n ‰∏™Âçï‰ΩçÊó∂Èó¥ÂÜÖ CPU Âú®ÊâßË°å‰∏çÂêåÁöÑ‰ªªÂä°ÔºåÊàñËÄÖÂú®ÂæÖÂëΩÁä∂ÊÄÅ„ÄÇ
#
#  ‰Ω†ÈúÄË¶ÅËÆ°ÁÆóÂÆåÊàêÊâÄÊúâ‰ªªÂä°ÊâÄÈúÄË¶ÅÁöÑ ÊúÄÁü≠Êó∂Èó¥ „ÄÇ
#
#
#
#  Á§∫‰æã 1Ôºö
#
#
# ËæìÂÖ•Ôºötasks = ["A","A","A","B","B","B"], n = 2
# ËæìÂá∫Ôºö8
# Ëß£ÈáäÔºöA -> B -> (ÂæÖÂëΩ) -> A -> B -> (ÂæÖÂëΩ) -> A -> B
#      Âú®Êú¨Á§∫‰æã‰∏≠Ôºå‰∏§‰∏™Áõ∏ÂêåÁ±ªÂûã‰ªªÂä°‰πãÈó¥ÂøÖÈ°ªÈó¥ÈöîÈïøÂ∫¶‰∏∫ n = 2 ÁöÑÂÜ∑Âç¥Êó∂Èó¥ÔºåËÄåÊâßË°å‰∏Ä‰∏™‰ªªÂä°Âè™ÈúÄË¶Å‰∏Ä‰∏™Âçï‰ΩçÊó∂Èó¥ÔºåÊâÄ‰ª•‰∏≠Èó¥Âá∫Áé∞‰∫ÜÔºàÂæÖÂëΩÔºâÁä∂ÊÄÅ„ÄÇ
#
#  Á§∫‰æã 2Ôºö
#
#
# ËæìÂÖ•Ôºötasks = ["A","A","A","B","B","B"], n = 0
# ËæìÂá∫Ôºö6
# Ëß£ÈáäÔºöÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰ªª‰ΩïÂ§ßÂ∞è‰∏∫ 6 ÁöÑÊéíÂàóÈÉΩÂèØ‰ª•Êª°Ë∂≥Ë¶ÅÊ±ÇÔºåÂõ†‰∏∫ n = 0
# ["A","A","A","B","B","B"]
# ["A","B","A","B","A","B"]
# ["B","B","B","A","A","A"]
# ...
# ËØ∏Â¶ÇÊ≠§Á±ª
#
#
#  Á§∫‰æã 3Ôºö
#
#
# ËæìÂÖ•Ôºötasks = ["A","A","A","A","A","A","B","C","D","E","F","G"], n = 2
# ËæìÂá∫Ôºö16
# Ëß£ÈáäÔºö‰∏ÄÁßçÂèØËÉΩÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÔºö
#      A -> B -> C -> A -> D -> E -> A -> F -> G -> A -> (ÂæÖÂëΩ) -> (ÂæÖÂëΩ) -> A -> (ÂæÖ
# ÂëΩ) -> (ÂæÖÂëΩ) -> A
#
#
#
#
#  ÊèêÁ§∫Ôºö
#
#
#  1 <= task.length <= 104
#  tasks[i] ÊòØÂ§ßÂÜôËã±ÊñáÂ≠óÊØç
#  n ÁöÑÂèñÂÄºËåÉÂõ¥‰∏∫ [0, 100]
#
#  Related Topics Ë¥™ÂøÉ Êï∞ÁªÑ ÂìàÂ∏åË°® ËÆ°Êï∞ ÊéíÂ∫è Â†ÜÔºà‰ºòÂÖàÈòüÂàóÔºâ
#  üëç 721 üëé 0


# leetcode submit region begin(Prohibit modification and deletion)
from typing import List
import heapq


class Solution:
    def leastInterval(self, tasks: List[str], n: int) -> int:
        d = {}
        cnt = 0
        for i in tasks:
            if i not in d:
                d[i] = 1
            else:
                d[i] += 1
        h = [(-value, key) for key, value in d.items()]
        heapq.heapify(h)
        while h:
            t = []
            cur_cnt = 0
            for i in range(n+1):
                if h:
                    m = heapq.heappop(h)
                    freq = m[0] + 1
                    if freq < 0:
                        t.append((freq, m[1]))
                    cur_cnt += 1
            for i in t:
                heapq.heappush(h, i)

            if not h:
                cnt += cur_cnt
            else:
                cnt += (n + 1)
        return cnt


Solution().leastInterval(tasks=["A", "A", "A", "A", "A", "A", "B", "C", "D", "E", "F", "G"], n=2)

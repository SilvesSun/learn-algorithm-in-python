# ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹åŒ…å« n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„ arr ï¼Œå’Œä¸€ä¸ªæ­£æ•´æ•° k ã€‚
#
#  å¦‚æœå¯¹äºæ¯ä¸ªæ»¡è¶³ k <= i <= n-1 çš„ä¸‹æ ‡ i ï¼Œéƒ½æœ‰ arr[i-k] <= arr[i] ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§° arr æ˜¯ K é€’å¢ çš„ã€‚
#
#
#  æ¯”æ–¹è¯´ï¼Œarr = [4, 1, 5, 2, 6, 2] å¯¹äº k = 2 æ˜¯ K é€’å¢çš„ï¼Œå› ä¸ºï¼š
#
#
#
#  arr[0] <= arr[2] (4 <= 5)
#  arr[1] <= arr[3] (1 <= 2)
#  arr[2] <= arr[4] (5 <= 6)
#  arr[3] <= arr[5] (2 <= 2)
#
#
#  ä½†æ˜¯ï¼Œç›¸åŒçš„æ•°ç»„ arr å¯¹äº k = 1 ä¸æ˜¯ K é€’å¢çš„ï¼ˆå› ä¸º arr[0] > arr[1]ï¼‰ï¼Œå¯¹äº k = 3 ä¹Ÿä¸æ˜¯ K é€’å¢çš„ï¼ˆå› ä¸º arr[
# 0] > arr[3] ï¼‰ã€‚
#
#
#  æ¯ä¸€æ¬¡ æ“ä½œ ä¸­ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªä¸‹æ ‡ i å¹¶å°† arr[i] æ”¹æˆä»»æ„ æ­£æ•´æ•°ã€‚
#
#  è¯·ä½ è¿”å›å¯¹äºç»™å®šçš„ k ï¼Œä½¿æ•°ç»„å˜æˆ K é€’å¢çš„ æœ€å°‘æ“ä½œæ¬¡æ•° ã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#  è¾“å…¥ï¼šarr = [5,4,3,2,1], k = 1
# è¾“å‡ºï¼š4
# è§£é‡Šï¼š
# å¯¹äº k = 1 ï¼Œæ•°ç»„æœ€ç»ˆå¿…é¡»å˜æˆéé€’å‡çš„ã€‚
# å¯è¡Œçš„ K é€’å¢ç»“æœæ•°ç»„ä¸º [5,6,7,8,9]ï¼Œ[1,1,1,1,1]ï¼Œ[2,2,3,4,4] ã€‚å®ƒä»¬éƒ½éœ€è¦ 4 æ¬¡æ“ä½œã€‚
# æ¬¡ä¼˜è§£æ˜¯å°†æ•°ç»„å˜æˆæ¯”æ–¹è¯´ [6,7,8,9,10] ï¼Œå› ä¸ºéœ€è¦ 5 æ¬¡æ“ä½œã€‚
# æ˜¾ç„¶æˆ‘ä»¬æ— æ³•ä½¿ç”¨å°‘äº 4 æ¬¡æ“ä½œå°†æ•°ç»„å˜æˆ K é€’å¢çš„ã€‚
#
#
#  ç¤ºä¾‹ 2ï¼š
#
#  è¾“å…¥ï¼šarr = [4,1,5,2,6,2], k = 2
# è¾“å‡ºï¼š0
# è§£é‡Šï¼š
# è¿™æ˜¯é¢˜ç›®æè¿°ä¸­çš„ä¾‹å­ã€‚
# å¯¹äºæ¯ä¸ªæ»¡è¶³ 2 <= i <= 5 çš„ä¸‹æ ‡ i ï¼Œæœ‰ arr[i-2] <= arr[i] ã€‚
# ç”±äºç»™å®šæ•°ç»„å·²ç»æ˜¯ K é€’å¢çš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿›è¡Œä»»ä½•æ“ä½œã€‚
#
#  ç¤ºä¾‹ 3ï¼š
#
#  è¾“å…¥ï¼šarr = [4,1,5,2,6,2], k = 3
# è¾“å‡ºï¼š2
# è§£é‡Šï¼š
# ä¸‹æ ‡ 3 å’Œ 5 æ˜¯ä»…æœ‰çš„ 3 <= i <= 5 ä¸”ä¸æ»¡è¶³ arr[i-3] <= arr[i] çš„ä¸‹æ ‡ã€‚
# å°†æ•°ç»„å˜æˆ K é€’å¢çš„æ–¹æ³•ä¹‹ä¸€æ˜¯å°† arr[3] å˜ä¸º 4 ï¼Œä¸”å°† arr[5] å˜æˆ 5 ã€‚
# æ•°ç»„å˜ä¸º [4,1,5,4,6,5] ã€‚
# å¯èƒ½æœ‰å…¶ä»–æ–¹æ³•å°†æ•°ç»„å˜ä¸º K é€’å¢çš„ï¼Œä½†æ²¡æœ‰ä»»ä½•ä¸€ç§æ–¹æ³•éœ€è¦çš„æ“ä½œæ¬¡æ•°å°äº 2 æ¬¡ã€‚
#
#
#
#
#  æç¤ºï¼š
#
#
#  1 <= arr.length <= 10âµ
#  1 <= arr[i], k <= arr.length
#
#
#  Related Topics æ•°ç»„ äºŒåˆ†æŸ¥æ‰¾ ğŸ‘ 81 ğŸ‘ 0
import bisect
from typing import List


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def kIncreasing(self, arr: List[int], k: int) -> int:
        # æ€è·¯, å°†æ•°ç»„æŒ‰ç…§ k step åˆ†ç»„, å¯¹æ¯ä¸ªæ•°ç»„æ±‚æœ€é•¿éé€’å‡åºåˆ—, åˆ™å­åºåˆ—éœ€è¦çš„æ“ä½œæ•°ä¸º å­åºåˆ—é•¿åº¦ - LNDS é•¿åº¦
        n = len(arr)
        res = 0
        for i in range(k):
            sub_arr = [arr[j] for j in range(i, n, k)]
            res += (len(sub_arr) - self.lnds(sub_arr))
        return res

    def lnds(self, sub):
        t = []
        for i in sub:
            idx = bisect.bisect_right(t, i)
            if idx == len(t):
                t.append(i)
            else:
                t[idx] = i
        return len(t)


# leetcode submit region end(Prohibit modification and deletion)

if __name__ == '__main__':
    print(Solution().kIncreasing(arr=[4, 1, 5, 2, 6, 2], k=2))
